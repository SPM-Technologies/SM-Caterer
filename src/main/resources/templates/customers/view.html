<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/main}">
<head>
    <title th:text="#{customers.view}">View Customer</title>
</head>
<body>
<div layout:fragment="content">
    <!-- Page Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>
            <i class="bi bi-person"></i>
            <span th:text="${customer.name}">Customer Name</span>
            <span class="badge ms-2" th:classappend="${customer.status.name() == 'ACTIVE'} ? 'bg-success' : 'bg-secondary'"
                  th:text="${customer.status}">Active</span>
        </h2>
        <div class="btn-group">
            <a th:href="@{/customers/{id}/edit(id=${customer.id})}" class="btn btn-primary">
                <i class="bi bi-pencil"></i> <span th:text="#{masters.edit}">Edit</span>
            </a>
            <a th:href="@{/customers}" class="btn btn-outline-secondary">
                <i class="bi bi-arrow-left"></i> <span th:text="#{masters.back}">Back</span>
            </a>
        </div>
    </div>

    <div class="row">
        <!-- Customer Details -->
        <div class="col-md-6">
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0"><i class="bi bi-info-circle"></i> Customer Details</h5>
                </div>
                <div class="card-body">
                    <dl class="row mb-0">
                        <dt class="col-sm-4" th:text="#{customers.code}">Code</dt>
                        <dd class="col-sm-8" th:text="${customer.customerCode}">CUST-001</dd>

                        <dt class="col-sm-4" th:text="#{customers.name}">Name</dt>
                        <dd class="col-sm-8" th:text="${customer.name}">John Doe</dd>

                        <dt class="col-sm-4" th:text="#{customers.phone}">Phone</dt>
                        <dd class="col-sm-8">
                            <a th:href="'tel:' + ${customer.phone}" th:text="${customer.phone}">9876543210</a>
                        </dd>

                        <dt class="col-sm-4" th:text="#{customers.email}">Email</dt>
                        <dd class="col-sm-8">
                            <a th:if="${customer.email}" th:href="'mailto:' + ${customer.email}" th:text="${customer.email}">email@example.com</a>
                            <span th:unless="${customer.email}" class="text-muted">-</span>
                        </dd>

                        <dt class="col-sm-4" th:text="#{customers.gstin}">GSTIN</dt>
                        <dd class="col-sm-8" th:text="${customer.gstin ?: '-'}">GST123456</dd>
                    </dl>
                </div>
            </div>
        </div>

        <!-- Address -->
        <div class="col-md-6">
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0"><i class="bi bi-geo-alt"></i> <span th:text="#{customers.address}">Address</span></h5>
                </div>
                <div class="card-body">
                    <dl class="row mb-0">
                        <dt class="col-sm-4" th:text="#{customers.address}">Address</dt>
                        <dd class="col-sm-8" th:text="${customer.address ?: '-'}">123 Main Street</dd>

                        <dt class="col-sm-4" th:text="#{customers.city}">City</dt>
                        <dd class="col-sm-8" th:text="${customer.city ?: '-'}">Mumbai</dd>

                        <dt class="col-sm-4" th:text="#{customers.state}">State</dt>
                        <dd class="col-sm-8" th:text="${customer.state ?: '-'}">Maharashtra</dd>

                        <dt class="col-sm-4" th:text="#{customers.pincode}">Pincode</dt>
                        <dd class="col-sm-8" th:text="${customer.pincode ?: '-'}">400001</dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>

    <!-- Order History (placeholder for future) -->
    <div class="card">
        <div class="card-header">
            <h5 class="mb-0"><i class="bi bi-receipt"></i> <span th:text="#{nav.orders}">Orders</span></h5>
        </div>
        <div class="card-body text-center text-muted py-4">
            <i class="bi bi-receipt" style="font-size: 2rem;"></i>
            <p class="mt-2">Order history will be displayed here.</p>
            <a th:href="@{/orders(customerName=${customer.name})}" class="btn btn-outline-primary btn-sm">
                <i class="bi bi-search"></i> View Orders
            </a>
        </div>
    </div>
</div>
</body>
</html>
